'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});


var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _wepy = require('./../../npm/wepy/lib/wepy.js');

var _wepy2 = _interopRequireDefault(_wepy);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Sale = function (_wepy$page) {
  _inherits(Sale, _wepy$page);

  function Sale() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, Sale);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Sale.__proto__ || Object.getPrototypeOf(Sale)).call.apply(_ref, [this].concat(args))), _this), _this.config = {
      navigationBarTitleText: '凭证'
    }, _this.data = {
      width: 0,
      height: 0,
      result: {},
      tempFilePath: '',
      imageHeight: 0
    }, _this.computed = {}, _this.methods = {
      hanldeSavePic: function hanldeSavePic() {
        var _self = this;
        wx.getImageInfo({
          src: _self.tempFilePath,
          success: function success(res1) {
            wx.saveImageToPhotosAlbum({
              filePath: res1.path,
              success: function success(res2) {
                wx.showToast({
                  title: '保存成功'
                });
                setTimeout(function () {
                  wx.redirectTo({
                    url: '../home/home'
                  });
                }, 1500);
              },
              fail: function fail(err) {
                console.log(err);
              }
            });
          }
        });
      },
      handleCancel: function handleCancel() {
        wx.redirectTo({
          url: '../home/home'
        });
      }
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(Sale, [{
    key: 'onLoad',
    value: function onLoad(options) {
      var _this2 = this;

      wx.showToast({
        title: '正在生成凭证',
        icon: 'loading',
        duration: 10000
      });
      // this.result = JSON.parse(options.result)
      this.result = {
        "summary": "这是业务描述",
        "preparedBy": "c",
        "client": "个",
        "supplier": "广东苏宁云商磷售有限公司",
        "project": "这是业务所属项目",
        "employeeName": "xiu小明",
        "thirdPartyName": "",
        "invoice": {
          "purchaserName": "航天信息份有限公司",
          "sellerName": "航天信息股份有限公司",
          "invoiceType": 0,
          "invoiceNum": "00593803",
          "invoiceDate": "2014-12-31T16:00:00.000Z",
          "amountInFiguers": "5.15",
          "serviceDetail": [{
            "commodityName": "货物可乐",
            "commodityAmount": "12345.89",
            "commodityTax": "0.03"
          }, {
            "commodityName": "货物可乐",
            "commodityAmount": "12345.80",
            "commodityTax": "0.00"
          }, {
            "commodityName": "货物可乐",
            "commodityAmount": "12345.89",
            "commodityTax": "0.03"
          }, {
            "commodityName": "货物可乐",
            "commodityAmount": "12345.80",
            "commodityTax": "0.03"
          }, {
            "commodityName": "货物可乐",
            "commodityAmount": "12345.89",
            "commodityTax": "0.03"
          }],
          "discription": "这是业务描述",
          "project": "这是业务所属项目",
          "identity": 1,
          "whoPays": 1,
          "employeeName": "xiu小明",
          "thirdPartyName": "",
          "reason": 1,
          "id": 53,
          "createdAt": "2018-11-22T03:27:24.640Z",
          "updatedAt": "2018-11-22T03:27:24.640Z"
        },
        "subjects": [{
          "subjectName": "应收账款",
          "subjectCode": "1122",
          "amount": "5.15"
        }, {
          "subjectName": "主营业务收入",
          "subjectCode": "5001",
          "amount": "12345.89"
        }, {
          "subjectName": "应交税费 - 增值税 - 销项税",
          "subjectCode": "5001",
          "amount": "0.03"
        }, {
          "subjectName": "主营业务收入",
          "subjectCode": "5001",
          "amount": "12345.80"
        }, {
          "subjectName": "应交税费 - 增值税 - 销项税",
          "subjectCode": "5001",
          "amount": "0.00"
        }],
        "accountingSupervisor": null,
        "bookkeeper": null,
        "cashier": null,
        "auditor": null,
        "id": 7,
        "voucherDate": "2018-11-22T03:14:28.666Z",
        "createdAt": "2018-11-22T03:14:28.666Z",
        "updatedAt": "2018-11-22T03:14:28.666Z"
      };

      var that = this;

      // 获取屏幕宽
      wx.getSystemInfo({
        success: function success(res) {
          that.width = res.windowWidth;
          that.$apply();
          // that.height = res.windowHeight
        }
      });

      // 函数定义区域 ===================
      // 设置一个基准比例
      var cal = function cal(px) {
        return px / 750 * that.width;
      };

      // canvas换行显示
      var lineWrap = function lineWrap(ctx, str, fontsize, lineheight, width, x, y) {
        ctx.setFontSize(fontsize);
        var textArr = [];
        var index = 0;
        for (var i = 1; i < str.length; i++) {
          if (ctx.measureText(str.substring(index, i)).width >= width * 0.8) {
            textArr.push(str.substring(index, i));
            index = i;
          }
        }

        textArr.push(str.substring(index));

        for (var _i = 0; _i < textArr.length; _i++) {
          ctx.fillText(textArr[_i], x, y + lineheight * (_i + 1));
        }
      };

      var ctx = wx.createCanvasContext('canvasId');

      ctx.setFillStyle('white');
      ctx.fillRect(cal(0), cal(0), cal(750), cal(120) + (7 + this.result.subjects.length) * cal(36));
      ctx.setFillStyle('black');

      // 标题
      ctx.setFontSize(cal(23));
      ctx.fillText('记账凭证', cal(375), cal(40));

      // 时间及编号
      var date = new Date();
      var year = date.getFullYear();
      var month = date.getMonth() + 1;
      var day = date.getDate();
      ctx.translate(cal(730), cal(70));
      ctx.setFontSize(cal(13));
      ctx.setTextAlign('right');
      ctx.fillText(year + ' 年 ' + month + ' 月 ' + day + ' 号      记字第 ' + this.result.id + ' 号', cal(0), cal(22));
      ctx.setTextAlign('center');
      ctx.setTextAlign('center');
      ctx.setTextAlign('center');

      // 表格
      // 外框
      var row = this.result.subjects.length + 2;
      ctx.translate(cal(-710), cal(50));
      ctx.setStrokeStyle('#000');
      ctx.strokeRect(0, 0, cal(710), cal(36) * row);

      // 内框
      for (var i = 2; i < row - 1; i++) {
        ctx.setStrokeStyle('#999');
        ctx.moveTo(cal(200), cal(36) * i);
        ctx.lineTo(cal(710), cal(36) * i);
        ctx.stroke();
      }

      ctx.moveTo(0, cal(36));
      ctx.lineTo(cal(710), cal(36));

      ctx.moveTo(0, cal(36) * (row - 1));
      ctx.lineTo(cal(710), cal(36) * (row - 1));

      ctx.moveTo(0, cal(36) * row);
      ctx.lineTo(cal(710), cal(36) * row);

      ctx.moveTo(cal(200), 0);
      ctx.lineTo(cal(200), cal(36) * (row - 1));

      ctx.moveTo(cal(330), cal(18));
      ctx.lineTo(cal(330), cal(36) * (row - 1));

      ctx.moveTo(cal(200), cal(18));
      ctx.lineTo(cal(460), cal(18));

      ctx.moveTo(cal(460), 0);
      ctx.lineTo(cal(460), cal(36) * row);

      ctx.moveTo(cal(585), 0);
      ctx.lineTo(cal(585), cal(36) * row);

      ctx.stroke();

      // 表头
      ctx.setFontSize(cal(15));
      ctx.setTextAlign('center');
      ctx.fillText('摘要', cal(100), cal(24));
      ctx.fillText('借方金额', cal(522), cal(24));
      ctx.fillText('贷方金额', cal(646), cal(24));

      ctx.setFontSize(cal(14));
      ctx.fillText('会计科目', cal(330), cal(15));
      ctx.fillText('科目代码', cal(265), cal(33));
      ctx.fillText('科目名称', cal(395), cal(33));

      // 内容部分
      // 摘要内容
      ctx.translate(0, cal(36));
      lineWrap(ctx, this.result.summary, cal(14), cal(16), cal(160), cal(100), cal(10));

      // 物品、服务等
      for (var _i2 = 0; _i2 < this.result.subjects.length; _i2++) {
        ctx.fillText(this.result.subjects[_i2].subjectCode, cal(265), cal(24) + cal(36) * _i2);
        if (ctx.measureText(this.result.subjects[_i2].subjectName).width >= cal(130) * 0.8) {
          lineWrap(ctx, this.result.subjects[_i2].subjectName, cal(14), cal(14), cal(130), cal(395), cal(2) + cal(36) * _i2);
        } else {
          ctx.fillText(this.result.subjects[_i2].subjectName, cal(395), cal(24) + cal(36) * _i2);
        }
        if (_i2 === 0) {
          ctx.fillText(this.result.subjects[_i2].amount, cal(522), cal(24) + cal(36) * _i2);
        } else {
          ctx.fillText(this.result.subjects[_i2].amount, cal(646), cal(24) + cal(36) * _i2);
        }
      }

      // 合计
      ctx.translate(0, cal(36) * this.result.subjects.length);
      ctx.fillText('合计', cal(230), cal(24));
      ctx.fillText(this.result.invoice.amountInFiguers, cal(522), cal(24));
      ctx.fillText(this.result.invoice.amountInFiguers, cal(646), cal(24));

      // 信息栏
      ctx.beginPath();
      // 边框
      ctx.translate(0, cal(36));
      var leftTitle = ['会计总管', '客户', '供应商', '项目'];
      for (var _i3 = 1; _i3 <= 4; _i3++) {
        ctx.fillText(leftTitle[_i3 - 1], cal(50), cal(24) + (_i3 - 1) * cal(36));
        ctx.moveTo(0, cal(36) * _i3);
        ctx.lineTo(cal(710), cal(36) * _i3);
      }

      ctx.moveTo(cal(355), cal(36));
      ctx.lineTo(cal(355), cal(36) * 4);
      ctx.fillText('员工', cal(405), cal(36) + cal(24));

      ctx.moveTo(cal(455), cal(36));
      ctx.lineTo(cal(455), cal(36) * 4);
      ctx.fillText('其他第三方', cal(405), cal(36) * 2 + cal(24));

      ctx.moveTo(cal(710), 0);
      ctx.lineTo(cal(710), cal(36) * 4);
      ctx.fillText('发票号码', cal(405), cal(36) * 3 + cal(24));

      ctx.moveTo(0, 0);
      ctx.lineTo(0, cal(36) * 4);

      ctx.moveTo(cal(100), 0);
      ctx.lineTo(cal(100), cal(36) * 4);

      ctx.moveTo(cal(190), 0);
      ctx.lineTo(cal(190), cal(36));
      var title = ['记账', '出纳', '审核', '制单'];
      for (var _i4 = 1; _i4 <= 4; _i4++) {
        ctx.fillText(title[_i4 - 1], cal(190 + 130 * (_i4 - 1) + 25), cal(24));
        ctx.moveTo(cal(190 + 130 * (_i4 - 1) + 50), 0);
        ctx.lineTo(cal(190 + 130 * (_i4 - 1) + 50), cal(36));
        ctx.moveTo(cal(190 + 130 * (_i4 - 1) + 130), 0);
        ctx.lineTo(cal(190 + 130 * (_i4 - 1) + 130), cal(36));
      }
      ctx.stroke();

      ctx.fillText(this.result.preparedBy, cal(190 + 130 * 3 + 90), cal(24));
      ctx.fillText(this.result.invoice.invoiceNum, cal(582), cal(24) + cal(36) * 3);
      this.result.project && ctx.fillText(this.result.project, cal(228), cal(24) + cal(36) * 3);
      ctx.fillText(this.result.client, cal(228), cal(24) + cal(36));

      ctx.draw(true, function () {
        that.imageHeight = cal(120) + (7 + _this2.result.subjects.length) * cal(36);
        wx.canvasToTempFilePath({
          x: 0,
          y: 0,
          width: cal(750),
          height: cal(120) + (7 + _this2.result.subjects.length) * cal(36),
          fileType: 'jpg',
          quality: 0.5,
          canvasId: 'canvasId', //canvasId和标签里面的id对应
          success: function success(res) {
            //将获取到的图片临时路径set到canvasSaveimg中
            that.tempFilePath = res.tempFilePath;
            that.$apply();
            wx.hideToast();
          },
          fail: function fail(err) {
            console.log(err);
          }
        });
      });
    }
  }]);

  return Sale;
}(_wepy2.default.page);


Page(require('./../../npm/wepy/lib/wepy.js').default.$createPage(Sale , 'pages/sale/sale'));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNhbGUuanMiXSwibmFtZXMiOlsiU2FsZSIsImNvbmZpZyIsIm5hdmlnYXRpb25CYXJUaXRsZVRleHQiLCJkYXRhIiwid2lkdGgiLCJoZWlnaHQiLCJyZXN1bHQiLCJ0ZW1wRmlsZVBhdGgiLCJpbWFnZUhlaWdodCIsImNvbXB1dGVkIiwibWV0aG9kcyIsImhhbmxkZVNhdmVQaWMiLCJfc2VsZiIsInd4IiwiZ2V0SW1hZ2VJbmZvIiwic3JjIiwic3VjY2VzcyIsInJlczEiLCJzYXZlSW1hZ2VUb1Bob3Rvc0FsYnVtIiwiZmlsZVBhdGgiLCJwYXRoIiwicmVzMiIsInNob3dUb2FzdCIsInRpdGxlIiwic2V0VGltZW91dCIsInJlZGlyZWN0VG8iLCJ1cmwiLCJmYWlsIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImhhbmRsZUNhbmNlbCIsIm9wdGlvbnMiLCJpY29uIiwiZHVyYXRpb24iLCJ0aGF0IiwiZ2V0U3lzdGVtSW5mbyIsInJlcyIsIndpbmRvd1dpZHRoIiwiJGFwcGx5IiwiY2FsIiwicHgiLCJsaW5lV3JhcCIsImN0eCIsInN0ciIsImZvbnRzaXplIiwibGluZWhlaWdodCIsIngiLCJ5Iiwic2V0Rm9udFNpemUiLCJ0ZXh0QXJyIiwiaW5kZXgiLCJpIiwibGVuZ3RoIiwibWVhc3VyZVRleHQiLCJzdWJzdHJpbmciLCJwdXNoIiwiZmlsbFRleHQiLCJjcmVhdGVDYW52YXNDb250ZXh0Iiwic2V0RmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJzdWJqZWN0cyIsImRhdGUiLCJEYXRlIiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImdldERhdGUiLCJ0cmFuc2xhdGUiLCJzZXRUZXh0QWxpZ24iLCJpZCIsInJvdyIsInNldFN0cm9rZVN0eWxlIiwic3Ryb2tlUmVjdCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsInN1bW1hcnkiLCJzdWJqZWN0Q29kZSIsInN1YmplY3ROYW1lIiwiYW1vdW50IiwiaW52b2ljZSIsImFtb3VudEluRmlndWVycyIsImJlZ2luUGF0aCIsImxlZnRUaXRsZSIsInByZXBhcmVkQnkiLCJpbnZvaWNlTnVtIiwicHJvamVjdCIsImNsaWVudCIsImRyYXciLCJjYW52YXNUb1RlbXBGaWxlUGF0aCIsImZpbGVUeXBlIiwicXVhbGl0eSIsImNhbnZhc0lkIiwiaGlkZVRvYXN0Iiwid2VweSIsInBhZ2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUNBOzs7Ozs7Ozs7Ozs7SUFFcUJBLEk7Ozs7Ozs7Ozs7Ozs7O2tMQUNuQkMsTSxHQUFTO0FBQ1BDLDhCQUF3QjtBQURqQixLLFFBSVRDLEksR0FBTztBQUNMQyxhQUFPLENBREY7QUFFTEMsY0FBUSxDQUZIO0FBR0xDLGNBQVEsRUFISDtBQUlMQyxvQkFBYyxFQUpUO0FBS0xDLG1CQUFhO0FBTFIsSyxRQVFQQyxRLEdBQVcsRSxRQUVYQyxPLEdBQVU7QUFDUkMsbUJBRFEsMkJBQ1M7QUFDZixZQUFJQyxRQUFRLElBQVo7QUFDSUMsV0FBR0MsWUFBSCxDQUFnQjtBQUNkQyxlQUFLSCxNQUFNTCxZQURHO0FBRWRTLGlCQUZjLG1CQUVMQyxJQUZLLEVBRUM7QUFDYkosZUFBR0ssc0JBQUgsQ0FBMEI7QUFDdEJDLHdCQUFVRixLQUFLRyxJQURPO0FBRXRCSix1QkFBUyxpQkFBVUssSUFBVixFQUFnQjtBQUN2QlIsbUJBQUdTLFNBQUgsQ0FBYTtBQUNYQyx5QkFBTztBQURJLGlCQUFiO0FBR0FDLDJCQUFXLFlBQU07QUFDZlgscUJBQUdZLFVBQUgsQ0FBYztBQUNaQyx5QkFBSztBQURPLG1CQUFkO0FBR0QsaUJBSkQsRUFJRyxJQUpIO0FBS0QsZUFYcUI7QUFZdEJDLG9CQUFNLGNBQVVDLEdBQVYsRUFBZTtBQUNuQkMsd0JBQVFDLEdBQVIsQ0FBWUYsR0FBWjtBQUNEO0FBZHFCLGFBQTFCO0FBZ0JEO0FBbkJhLFNBQWhCO0FBcUJMLE9BeEJPO0FBeUJSRyxrQkF6QlEsMEJBeUJRO0FBQ2RsQixXQUFHWSxVQUFILENBQWM7QUFDWkMsZUFBSztBQURPLFNBQWQ7QUFHRDtBQTdCTyxLOzs7OzsyQkFnQ0ZNLE8sRUFBUztBQUFBOztBQUNkbkIsU0FBR1MsU0FBSCxDQUFhO0FBQ1hDLGVBQU8sUUFESTtBQUVYVSxjQUFNLFNBRks7QUFHWEMsa0JBQVU7QUFIQyxPQUFiO0FBS0Q7QUFDQSxXQUFLNUIsTUFBTCxHQUFjO0FBQ2IsbUJBQVcsUUFERTtBQUViLHNCQUFjLEdBRkQ7QUFHYixrQkFBVSxHQUhHO0FBSWIsb0JBQVksY0FKQztBQUtiLG1CQUFXLFVBTEU7QUFNYix3QkFBZ0IsT0FOSDtBQU9iLDBCQUFrQixFQVBMO0FBUWIsbUJBQVc7QUFDVCwyQkFBaUIsV0FEUjtBQUVULHdCQUFjLFlBRkw7QUFHVCx5QkFBZSxDQUhOO0FBSVQsd0JBQWMsVUFKTDtBQUtULHlCQUFlLDBCQUxOO0FBTVQsNkJBQW1CLE1BTlY7QUFPVCwyQkFBaUIsQ0FDZjtBQUNFLDZCQUFpQixNQURuQjtBQUVFLCtCQUFtQixVQUZyQjtBQUdFLDRCQUFnQjtBQUhsQixXQURlLEVBS1o7QUFDRCw2QkFBaUIsTUFEaEI7QUFFRCwrQkFBbUIsVUFGbEI7QUFHRCw0QkFBZ0I7QUFIZixXQUxZLEVBU1o7QUFDRCw2QkFBaUIsTUFEaEI7QUFFRCwrQkFBbUIsVUFGbEI7QUFHRCw0QkFBZ0I7QUFIZixXQVRZLEVBYVo7QUFDRCw2QkFBaUIsTUFEaEI7QUFFRCwrQkFBbUIsVUFGbEI7QUFHRCw0QkFBZ0I7QUFIZixXQWJZLEVBaUJaO0FBQ0QsNkJBQWlCLE1BRGhCO0FBRUQsK0JBQW1CLFVBRmxCO0FBR0QsNEJBQWdCO0FBSGYsV0FqQlksQ0FQUjtBQThCVCx5QkFBZSxRQTlCTjtBQStCVCxxQkFBVyxVQS9CRjtBQWdDVCxzQkFBWSxDQWhDSDtBQWlDVCxxQkFBVyxDQWpDRjtBQWtDVCwwQkFBZ0IsT0FsQ1A7QUFtQ1QsNEJBQWtCLEVBbkNUO0FBb0NULG9CQUFVLENBcENEO0FBcUNULGdCQUFNLEVBckNHO0FBc0NULHVCQUFhLDBCQXRDSjtBQXVDVCx1QkFBYTtBQXZDSixTQVJFO0FBaURiLG9CQUFZLENBQ1Y7QUFDRSx5QkFBZSxNQURqQjtBQUVFLHlCQUFlLE1BRmpCO0FBR0Usb0JBQVU7QUFIWixTQURVLEVBS1A7QUFDRCx5QkFBZSxRQURkO0FBRUQseUJBQWUsTUFGZDtBQUdELG9CQUFVO0FBSFQsU0FMTyxFQVNQO0FBQ0QseUJBQWUsa0JBRGQ7QUFFRCx5QkFBZSxNQUZkO0FBR0Qsb0JBQVU7QUFIVCxTQVRPLEVBYVA7QUFDRCx5QkFBZSxRQURkO0FBRUQseUJBQWUsTUFGZDtBQUdELG9CQUFVO0FBSFQsU0FiTyxFQWlCUDtBQUNELHlCQUFlLGtCQURkO0FBRUQseUJBQWUsTUFGZDtBQUdELG9CQUFVO0FBSFQsU0FqQk8sQ0FqREM7QUF3RWIsZ0NBQXdCLElBeEVYO0FBeUViLHNCQUFjLElBekVEO0FBMEViLG1CQUFXLElBMUVFO0FBMkViLG1CQUFXLElBM0VFO0FBNEViLGNBQU0sQ0E1RU87QUE2RWIsdUJBQWUsMEJBN0VGO0FBOEViLHFCQUFhLDBCQTlFQTtBQStFYixxQkFBYTtBQS9FQSxPQUFkOztBQWtGQSxVQUFJNkIsT0FBTyxJQUFYOztBQUVBO0FBQ0F0QixTQUFHdUIsYUFBSCxDQUFpQjtBQUNmcEIsZUFEZSxtQkFDUHFCLEdBRE8sRUFDRjtBQUNYRixlQUFLL0IsS0FBTCxHQUFhaUMsSUFBSUMsV0FBakI7QUFDQUgsZUFBS0ksTUFBTDtBQUNBO0FBQ0Q7QUFMYyxPQUFqQjs7QUFRSjtBQUNJO0FBQ0EsVUFBSUMsTUFBTSxTQUFOQSxHQUFNLENBQUNDLEVBQUQsRUFBUTtBQUNoQixlQUFRQSxLQUFLLEdBQUwsR0FBV04sS0FBSy9CLEtBQXhCO0FBQ0QsT0FGRDs7QUFJQTtBQUNBLFVBQUlzQyxXQUFXLFNBQVhBLFFBQVcsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLFFBQVgsRUFBcUJDLFVBQXJCLEVBQWlDMUMsS0FBakMsRUFBd0MyQyxDQUF4QyxFQUEyQ0MsQ0FBM0MsRUFBaUQ7QUFDOURMLFlBQUlNLFdBQUosQ0FBZ0JKLFFBQWhCO0FBQ0EsWUFBSUssVUFBVSxFQUFkO0FBQ0EsWUFBSUMsUUFBUSxDQUFaO0FBQ0EsYUFBSyxJQUFJQyxJQUFJLENBQWIsRUFBZ0JBLElBQUlSLElBQUlTLE1BQXhCLEVBQWdDRCxHQUFoQyxFQUFxQztBQUNuQyxjQUFJVCxJQUFJVyxXQUFKLENBQWdCVixJQUFJVyxTQUFKLENBQWNKLEtBQWQsRUFBcUJDLENBQXJCLENBQWhCLEVBQXlDaEQsS0FBekMsSUFBa0RBLFFBQVEsR0FBOUQsRUFBbUU7QUFDakU4QyxvQkFBUU0sSUFBUixDQUFhWixJQUFJVyxTQUFKLENBQWNKLEtBQWQsRUFBcUJDLENBQXJCLENBQWI7QUFDQUQsb0JBQVFDLENBQVI7QUFDRDtBQUNGOztBQUVERixnQkFBUU0sSUFBUixDQUFhWixJQUFJVyxTQUFKLENBQWNKLEtBQWQsQ0FBYjs7QUFFQSxhQUFLLElBQUlDLEtBQUksQ0FBYixFQUFnQkEsS0FBSUYsUUFBUUcsTUFBNUIsRUFBb0NELElBQXBDLEVBQXlDO0FBQ3ZDVCxjQUFJYyxRQUFKLENBQWFQLFFBQVFFLEVBQVIsQ0FBYixFQUF5QkwsQ0FBekIsRUFBNEJDLElBQUlGLGNBQWNNLEtBQUksQ0FBbEIsQ0FBaEM7QUFDRDtBQUNGLE9BaEJEOztBQWtCQSxVQUFNVCxNQUFNOUIsR0FBRzZDLG1CQUFILENBQXVCLFVBQXZCLENBQVo7O0FBRUFmLFVBQUlnQixZQUFKLENBQWlCLE9BQWpCO0FBQ0FoQixVQUFJaUIsUUFBSixDQUFhcEIsSUFBSSxDQUFKLENBQWIsRUFBcUJBLElBQUksQ0FBSixDQUFyQixFQUE2QkEsSUFBSSxHQUFKLENBQTdCLEVBQXVDQSxJQUFJLEdBQUosSUFBVyxDQUFDLElBQUksS0FBS2xDLE1BQUwsQ0FBWXVELFFBQVosQ0FBcUJSLE1BQTFCLElBQW9DYixJQUFJLEVBQUosQ0FBdEY7QUFDQUcsVUFBSWdCLFlBQUosQ0FBaUIsT0FBakI7O0FBRUE7QUFDQWhCLFVBQUlNLFdBQUosQ0FBZ0JULElBQUksRUFBSixDQUFoQjtBQUNBRyxVQUFJYyxRQUFKLENBQWEsTUFBYixFQUFxQmpCLElBQUksR0FBSixDQUFyQixFQUErQkEsSUFBSSxFQUFKLENBQS9COztBQUVBO0FBQ0EsVUFBSXNCLE9BQU8sSUFBSUMsSUFBSixFQUFYO0FBQ0EsVUFBSUMsT0FBT0YsS0FBS0csV0FBTCxFQUFYO0FBQ0EsVUFBSUMsUUFBUUosS0FBS0ssUUFBTCxLQUFrQixDQUE5QjtBQUNBLFVBQUlDLE1BQU1OLEtBQUtPLE9BQUwsRUFBVjtBQUNBMUIsVUFBSTJCLFNBQUosQ0FBYzlCLElBQUksR0FBSixDQUFkLEVBQXdCQSxJQUFJLEVBQUosQ0FBeEI7QUFDQUcsVUFBSU0sV0FBSixDQUFnQlQsSUFBSSxFQUFKLENBQWhCO0FBQ0FHLFVBQUk0QixZQUFKLENBQWlCLE9BQWpCO0FBQ0E1QixVQUFJYyxRQUFKLENBQWFPLE9BQU8sS0FBUCxHQUFlRSxLQUFmLEdBQXVCLEtBQXZCLEdBQStCRSxHQUEvQixHQUFxQyxjQUFyQyxHQUFzRCxLQUFLOUQsTUFBTCxDQUFZa0UsRUFBbEUsR0FBdUUsSUFBcEYsRUFBMEZoQyxJQUFJLENBQUosQ0FBMUYsRUFBa0dBLElBQUksRUFBSixDQUFsRztBQUNBRyxVQUFJNEIsWUFBSixDQUFpQixRQUFqQjtBQUNBNUIsVUFBSTRCLFlBQUosQ0FBaUIsUUFBakI7QUFDQTVCLFVBQUk0QixZQUFKLENBQWlCLFFBQWpCOztBQUVBO0FBQ0E7QUFDQSxVQUFJRSxNQUFNLEtBQUtuRSxNQUFMLENBQVl1RCxRQUFaLENBQXFCUixNQUFyQixHQUE4QixDQUF4QztBQUNBVixVQUFJMkIsU0FBSixDQUFjOUIsSUFBSSxDQUFDLEdBQUwsQ0FBZCxFQUF5QkEsSUFBSSxFQUFKLENBQXpCO0FBQ0FHLFVBQUkrQixjQUFKLENBQW1CLE1BQW5CO0FBQ0EvQixVQUFJZ0MsVUFBSixDQUFlLENBQWYsRUFBa0IsQ0FBbEIsRUFBcUJuQyxJQUFJLEdBQUosQ0FBckIsRUFBK0JBLElBQUksRUFBSixJQUFVaUMsR0FBekM7O0FBRUE7QUFDQSxXQUFLLElBQUlyQixJQUFJLENBQWIsRUFBZ0JBLElBQUlxQixNQUFNLENBQTFCLEVBQTZCckIsR0FBN0IsRUFBa0M7QUFDaENULFlBQUkrQixjQUFKLENBQW1CLE1BQW5CO0FBQ0EvQixZQUFJaUMsTUFBSixDQUFXcEMsSUFBSSxHQUFKLENBQVgsRUFBcUJBLElBQUksRUFBSixJQUFVWSxDQUEvQjtBQUNBVCxZQUFJa0MsTUFBSixDQUFXckMsSUFBSSxHQUFKLENBQVgsRUFBcUJBLElBQUksRUFBSixJQUFVWSxDQUEvQjtBQUNBVCxZQUFJbUMsTUFBSjtBQUNEOztBQUVEbkMsVUFBSWlDLE1BQUosQ0FBVyxDQUFYLEVBQWNwQyxJQUFJLEVBQUosQ0FBZDtBQUNBRyxVQUFJa0MsTUFBSixDQUFXckMsSUFBSSxHQUFKLENBQVgsRUFBcUJBLElBQUksRUFBSixDQUFyQjs7QUFFQUcsVUFBSWlDLE1BQUosQ0FBVyxDQUFYLEVBQWNwQyxJQUFJLEVBQUosS0FBV2lDLE1BQUssQ0FBaEIsQ0FBZDtBQUNBOUIsVUFBSWtDLE1BQUosQ0FBV3JDLElBQUksR0FBSixDQUFYLEVBQXFCQSxJQUFJLEVBQUosS0FBV2lDLE1BQUssQ0FBaEIsQ0FBckI7O0FBRUE5QixVQUFJaUMsTUFBSixDQUFXLENBQVgsRUFBY3BDLElBQUksRUFBSixJQUFVaUMsR0FBeEI7QUFDQTlCLFVBQUlrQyxNQUFKLENBQVdyQyxJQUFJLEdBQUosQ0FBWCxFQUFxQkEsSUFBSSxFQUFKLElBQVVpQyxHQUEvQjs7QUFFQTlCLFVBQUlpQyxNQUFKLENBQVdwQyxJQUFJLEdBQUosQ0FBWCxFQUFxQixDQUFyQjtBQUNBRyxVQUFJa0MsTUFBSixDQUFXckMsSUFBSSxHQUFKLENBQVgsRUFBcUJBLElBQUksRUFBSixLQUFXaUMsTUFBSyxDQUFoQixDQUFyQjs7QUFFQTlCLFVBQUlpQyxNQUFKLENBQVdwQyxJQUFJLEdBQUosQ0FBWCxFQUFxQkEsSUFBSSxFQUFKLENBQXJCO0FBQ0FHLFVBQUlrQyxNQUFKLENBQVdyQyxJQUFJLEdBQUosQ0FBWCxFQUFxQkEsSUFBSSxFQUFKLEtBQVdpQyxNQUFNLENBQWpCLENBQXJCOztBQUVBOUIsVUFBSWlDLE1BQUosQ0FBV3BDLElBQUksR0FBSixDQUFYLEVBQXFCQSxJQUFJLEVBQUosQ0FBckI7QUFDQUcsVUFBSWtDLE1BQUosQ0FBV3JDLElBQUksR0FBSixDQUFYLEVBQXFCQSxJQUFJLEVBQUosQ0FBckI7O0FBRUFHLFVBQUlpQyxNQUFKLENBQVdwQyxJQUFJLEdBQUosQ0FBWCxFQUFxQixDQUFyQjtBQUNBRyxVQUFJa0MsTUFBSixDQUFXckMsSUFBSSxHQUFKLENBQVgsRUFBcUJBLElBQUksRUFBSixJQUFVaUMsR0FBL0I7O0FBRUE5QixVQUFJaUMsTUFBSixDQUFXcEMsSUFBSSxHQUFKLENBQVgsRUFBcUIsQ0FBckI7QUFDQUcsVUFBSWtDLE1BQUosQ0FBV3JDLElBQUksR0FBSixDQUFYLEVBQXFCQSxJQUFJLEVBQUosSUFBVWlDLEdBQS9COztBQUVBOUIsVUFBSW1DLE1BQUo7O0FBRUE7QUFDQW5DLFVBQUlNLFdBQUosQ0FBZ0JULElBQUksRUFBSixDQUFoQjtBQUNBRyxVQUFJNEIsWUFBSixDQUFpQixRQUFqQjtBQUNBNUIsVUFBSWMsUUFBSixDQUFhLElBQWIsRUFBbUJqQixJQUFJLEdBQUosQ0FBbkIsRUFBNkJBLElBQUksRUFBSixDQUE3QjtBQUNBRyxVQUFJYyxRQUFKLENBQWEsTUFBYixFQUFxQmpCLElBQUksR0FBSixDQUFyQixFQUErQkEsSUFBSSxFQUFKLENBQS9CO0FBQ0FHLFVBQUljLFFBQUosQ0FBYSxNQUFiLEVBQXFCakIsSUFBSSxHQUFKLENBQXJCLEVBQStCQSxJQUFJLEVBQUosQ0FBL0I7O0FBRUFHLFVBQUlNLFdBQUosQ0FBZ0JULElBQUksRUFBSixDQUFoQjtBQUNBRyxVQUFJYyxRQUFKLENBQWEsTUFBYixFQUFxQmpCLElBQUksR0FBSixDQUFyQixFQUErQkEsSUFBSSxFQUFKLENBQS9CO0FBQ0FHLFVBQUljLFFBQUosQ0FBYSxNQUFiLEVBQXFCakIsSUFBSSxHQUFKLENBQXJCLEVBQStCQSxJQUFJLEVBQUosQ0FBL0I7QUFDQUcsVUFBSWMsUUFBSixDQUFhLE1BQWIsRUFBcUJqQixJQUFJLEdBQUosQ0FBckIsRUFBK0JBLElBQUksRUFBSixDQUEvQjs7QUFFQTtBQUNBO0FBQ0FHLFVBQUkyQixTQUFKLENBQWMsQ0FBZCxFQUFpQjlCLElBQUksRUFBSixDQUFqQjtBQUNBRSxlQUFTQyxHQUFULEVBQWMsS0FBS3JDLE1BQUwsQ0FBWXlFLE9BQTFCLEVBQW1DdkMsSUFBSSxFQUFKLENBQW5DLEVBQTRDQSxJQUFJLEVBQUosQ0FBNUMsRUFBcURBLElBQUksR0FBSixDQUFyRCxFQUErREEsSUFBSSxHQUFKLENBQS9ELEVBQXlFQSxJQUFJLEVBQUosQ0FBekU7O0FBRUE7QUFDQSxXQUFLLElBQUlZLE1BQUksQ0FBYixFQUFnQkEsTUFBSSxLQUFLOUMsTUFBTCxDQUFZdUQsUUFBWixDQUFxQlIsTUFBekMsRUFBaURELEtBQWpELEVBQXNEO0FBQ3BEVCxZQUFJYyxRQUFKLENBQWEsS0FBS25ELE1BQUwsQ0FBWXVELFFBQVosQ0FBcUJULEdBQXJCLEVBQXdCNEIsV0FBckMsRUFBa0R4QyxJQUFJLEdBQUosQ0FBbEQsRUFBNERBLElBQUksRUFBSixJQUFVQSxJQUFJLEVBQUosSUFBVVksR0FBaEY7QUFDQSxZQUFJVCxJQUFJVyxXQUFKLENBQWdCLEtBQUtoRCxNQUFMLENBQVl1RCxRQUFaLENBQXFCVCxHQUFyQixFQUF3QjZCLFdBQXhDLEVBQXFEN0UsS0FBckQsSUFBOERvQyxJQUFJLEdBQUosSUFBVyxHQUE3RSxFQUFrRjtBQUNoRkUsbUJBQVNDLEdBQVQsRUFBYyxLQUFLckMsTUFBTCxDQUFZdUQsUUFBWixDQUFxQlQsR0FBckIsRUFBd0I2QixXQUF0QyxFQUFtRHpDLElBQUksRUFBSixDQUFuRCxFQUE0REEsSUFBSSxFQUFKLENBQTVELEVBQXFFQSxJQUFJLEdBQUosQ0FBckUsRUFBK0VBLElBQUksR0FBSixDQUEvRSxFQUF5RkEsSUFBSSxDQUFKLElBQVNBLElBQUksRUFBSixJQUFVWSxHQUE1RztBQUNELFNBRkQsTUFFTztBQUNMVCxjQUFJYyxRQUFKLENBQWEsS0FBS25ELE1BQUwsQ0FBWXVELFFBQVosQ0FBcUJULEdBQXJCLEVBQXdCNkIsV0FBckMsRUFBa0R6QyxJQUFJLEdBQUosQ0FBbEQsRUFBNERBLElBQUksRUFBSixJQUFVQSxJQUFJLEVBQUosSUFBVVksR0FBaEY7QUFDRDtBQUNELFlBQUlBLFFBQU0sQ0FBVixFQUFhO0FBQ1hULGNBQUljLFFBQUosQ0FBYSxLQUFLbkQsTUFBTCxDQUFZdUQsUUFBWixDQUFxQlQsR0FBckIsRUFBd0I4QixNQUFyQyxFQUE2QzFDLElBQUksR0FBSixDQUE3QyxFQUF1REEsSUFBSSxFQUFKLElBQVVBLElBQUksRUFBSixJQUFVWSxHQUEzRTtBQUNELFNBRkQsTUFFTztBQUNMVCxjQUFJYyxRQUFKLENBQWEsS0FBS25ELE1BQUwsQ0FBWXVELFFBQVosQ0FBcUJULEdBQXJCLEVBQXdCOEIsTUFBckMsRUFBNkMxQyxJQUFJLEdBQUosQ0FBN0MsRUFBdURBLElBQUksRUFBSixJQUFVQSxJQUFJLEVBQUosSUFBVVksR0FBM0U7QUFDRDtBQUNGOztBQUVEO0FBQ0FULFVBQUkyQixTQUFKLENBQWMsQ0FBZCxFQUFpQjlCLElBQUksRUFBSixJQUFXLEtBQUtsQyxNQUFMLENBQVl1RCxRQUFaLENBQXFCUixNQUFqRDtBQUNBVixVQUFJYyxRQUFKLENBQWEsSUFBYixFQUFtQmpCLElBQUksR0FBSixDQUFuQixFQUE2QkEsSUFBSSxFQUFKLENBQTdCO0FBQ0FHLFVBQUljLFFBQUosQ0FBYSxLQUFLbkQsTUFBTCxDQUFZNkUsT0FBWixDQUFvQkMsZUFBakMsRUFBa0Q1QyxJQUFJLEdBQUosQ0FBbEQsRUFBNERBLElBQUksRUFBSixDQUE1RDtBQUNBRyxVQUFJYyxRQUFKLENBQWEsS0FBS25ELE1BQUwsQ0FBWTZFLE9BQVosQ0FBb0JDLGVBQWpDLEVBQWtENUMsSUFBSSxHQUFKLENBQWxELEVBQTREQSxJQUFJLEVBQUosQ0FBNUQ7O0FBRUE7QUFDQUcsVUFBSTBDLFNBQUo7QUFDQTtBQUNBMUMsVUFBSTJCLFNBQUosQ0FBYyxDQUFkLEVBQWlCOUIsSUFBSSxFQUFKLENBQWpCO0FBQ0EsVUFBSThDLFlBQVksQ0FBQyxNQUFELEVBQVMsSUFBVCxFQUFlLEtBQWYsRUFBc0IsSUFBdEIsQ0FBaEI7QUFDQSxXQUFLLElBQUlsQyxNQUFJLENBQWIsRUFBZ0JBLE9BQUssQ0FBckIsRUFBd0JBLEtBQXhCLEVBQTZCO0FBQzNCVCxZQUFJYyxRQUFKLENBQWE2QixVQUFVbEMsTUFBSSxDQUFkLENBQWIsRUFBK0JaLElBQUksRUFBSixDQUEvQixFQUF3Q0EsSUFBSSxFQUFKLElBQVUsQ0FBQ1ksTUFBSSxDQUFMLElBQVVaLElBQUksRUFBSixDQUE1RDtBQUNBRyxZQUFJaUMsTUFBSixDQUFXLENBQVgsRUFBY3BDLElBQUksRUFBSixJQUFVWSxHQUF4QjtBQUNBVCxZQUFJa0MsTUFBSixDQUFXckMsSUFBSSxHQUFKLENBQVgsRUFBcUJBLElBQUksRUFBSixJQUFVWSxHQUEvQjtBQUNEOztBQUVEVCxVQUFJaUMsTUFBSixDQUFXcEMsSUFBSSxHQUFKLENBQVgsRUFBcUJBLElBQUksRUFBSixDQUFyQjtBQUNBRyxVQUFJa0MsTUFBSixDQUFXckMsSUFBSSxHQUFKLENBQVgsRUFBcUJBLElBQUksRUFBSixJQUFVLENBQS9CO0FBQ0FHLFVBQUljLFFBQUosQ0FBYSxJQUFiLEVBQW1CakIsSUFBSSxHQUFKLENBQW5CLEVBQTZCQSxJQUFJLEVBQUosSUFBVUEsSUFBSSxFQUFKLENBQXZDOztBQUVBRyxVQUFJaUMsTUFBSixDQUFXcEMsSUFBSSxHQUFKLENBQVgsRUFBcUJBLElBQUksRUFBSixDQUFyQjtBQUNBRyxVQUFJa0MsTUFBSixDQUFXckMsSUFBSSxHQUFKLENBQVgsRUFBcUJBLElBQUksRUFBSixJQUFVLENBQS9CO0FBQ0FHLFVBQUljLFFBQUosQ0FBYSxPQUFiLEVBQXNCakIsSUFBSSxHQUFKLENBQXRCLEVBQWdDQSxJQUFJLEVBQUosSUFBVSxDQUFWLEdBQWNBLElBQUksRUFBSixDQUE5Qzs7QUFFQUcsVUFBSWlDLE1BQUosQ0FBV3BDLElBQUksR0FBSixDQUFYLEVBQXFCLENBQXJCO0FBQ0FHLFVBQUlrQyxNQUFKLENBQVdyQyxJQUFJLEdBQUosQ0FBWCxFQUFxQkEsSUFBSSxFQUFKLElBQVUsQ0FBL0I7QUFDQUcsVUFBSWMsUUFBSixDQUFhLE1BQWIsRUFBcUJqQixJQUFJLEdBQUosQ0FBckIsRUFBK0JBLElBQUksRUFBSixJQUFVLENBQVYsR0FBY0EsSUFBSSxFQUFKLENBQTdDOztBQUVBRyxVQUFJaUMsTUFBSixDQUFXLENBQVgsRUFBYyxDQUFkO0FBQ0FqQyxVQUFJa0MsTUFBSixDQUFXLENBQVgsRUFBY3JDLElBQUksRUFBSixJQUFVLENBQXhCOztBQUVBRyxVQUFJaUMsTUFBSixDQUFXcEMsSUFBSSxHQUFKLENBQVgsRUFBcUIsQ0FBckI7QUFDQUcsVUFBSWtDLE1BQUosQ0FBV3JDLElBQUksR0FBSixDQUFYLEVBQXFCQSxJQUFJLEVBQUosSUFBVSxDQUEvQjs7QUFFQUcsVUFBSWlDLE1BQUosQ0FBV3BDLElBQUksR0FBSixDQUFYLEVBQXFCLENBQXJCO0FBQ0FHLFVBQUlrQyxNQUFKLENBQVdyQyxJQUFJLEdBQUosQ0FBWCxFQUFxQkEsSUFBSSxFQUFKLENBQXJCO0FBQ0EsVUFBSWpCLFFBQVEsQ0FBQyxJQUFELEVBQU8sSUFBUCxFQUFhLElBQWIsRUFBbUIsSUFBbkIsQ0FBWjtBQUNBLFdBQUssSUFBSTZCLE1BQUksQ0FBYixFQUFnQkEsT0FBSyxDQUFyQixFQUF3QkEsS0FBeEIsRUFBNkI7QUFDM0JULFlBQUljLFFBQUosQ0FBYWxDLE1BQU02QixNQUFJLENBQVYsQ0FBYixFQUEyQlosSUFBSSxNQUFNLE9BQU9ZLE1BQUksQ0FBWCxDQUFOLEdBQXNCLEVBQTFCLENBQTNCLEVBQTBEWixJQUFJLEVBQUosQ0FBMUQ7QUFDQUcsWUFBSWlDLE1BQUosQ0FBV3BDLElBQUksTUFBTSxPQUFPWSxNQUFJLENBQVgsQ0FBTixHQUFzQixFQUExQixDQUFYLEVBQTBDLENBQTFDO0FBQ0FULFlBQUlrQyxNQUFKLENBQVdyQyxJQUFJLE1BQU0sT0FBT1ksTUFBSSxDQUFYLENBQU4sR0FBc0IsRUFBMUIsQ0FBWCxFQUEwQ1osSUFBSSxFQUFKLENBQTFDO0FBQ0FHLFlBQUlpQyxNQUFKLENBQVdwQyxJQUFJLE1BQU0sT0FBT1ksTUFBSSxDQUFYLENBQU4sR0FBc0IsR0FBMUIsQ0FBWCxFQUEyQyxDQUEzQztBQUNBVCxZQUFJa0MsTUFBSixDQUFXckMsSUFBSSxNQUFNLE9BQU9ZLE1BQUksQ0FBWCxDQUFOLEdBQXNCLEdBQTFCLENBQVgsRUFBMkNaLElBQUksRUFBSixDQUEzQztBQUNEO0FBQ0RHLFVBQUltQyxNQUFKOztBQUVBbkMsVUFBSWMsUUFBSixDQUFhLEtBQUtuRCxNQUFMLENBQVlpRixVQUF6QixFQUFxQy9DLElBQUksTUFBTSxNQUFNLENBQVosR0FBZ0IsRUFBcEIsQ0FBckMsRUFBOERBLElBQUksRUFBSixDQUE5RDtBQUNBRyxVQUFJYyxRQUFKLENBQWEsS0FBS25ELE1BQUwsQ0FBWTZFLE9BQVosQ0FBb0JLLFVBQWpDLEVBQTZDaEQsSUFBSSxHQUFKLENBQTdDLEVBQXVEQSxJQUFJLEVBQUosSUFBVUEsSUFBSSxFQUFKLElBQVUsQ0FBM0U7QUFDQSxXQUFLbEMsTUFBTCxDQUFZbUYsT0FBWixJQUF1QjlDLElBQUljLFFBQUosQ0FBYSxLQUFLbkQsTUFBTCxDQUFZbUYsT0FBekIsRUFBa0NqRCxJQUFJLEdBQUosQ0FBbEMsRUFBNENBLElBQUksRUFBSixJQUFVQSxJQUFJLEVBQUosSUFBVSxDQUFoRSxDQUF2QjtBQUNBRyxVQUFJYyxRQUFKLENBQWEsS0FBS25ELE1BQUwsQ0FBWW9GLE1BQXpCLEVBQWlDbEQsSUFBSSxHQUFKLENBQWpDLEVBQTJDQSxJQUFJLEVBQUosSUFBVUEsSUFBSSxFQUFKLENBQXJEOztBQUVBRyxVQUFJZ0QsSUFBSixDQUFTLElBQVQsRUFBZSxZQUFNO0FBQ25CeEQsYUFBSzNCLFdBQUwsR0FBbUJnQyxJQUFJLEdBQUosSUFBVyxDQUFDLElBQUksT0FBS2xDLE1BQUwsQ0FBWXVELFFBQVosQ0FBcUJSLE1BQTFCLElBQW9DYixJQUFJLEVBQUosQ0FBbEU7QUFDQTNCLFdBQUcrRSxvQkFBSCxDQUF3QjtBQUNwQjdDLGFBQUcsQ0FEaUI7QUFFcEJDLGFBQUcsQ0FGaUI7QUFHcEI1QyxpQkFBT29DLElBQUksR0FBSixDQUhhO0FBSXBCbkMsa0JBQVFtQyxJQUFJLEdBQUosSUFBVyxDQUFDLElBQUksT0FBS2xDLE1BQUwsQ0FBWXVELFFBQVosQ0FBcUJSLE1BQTFCLElBQW9DYixJQUFJLEVBQUosQ0FKbkM7QUFLcEJxRCxvQkFBVSxLQUxVO0FBTXBCQyxtQkFBUyxHQU5XO0FBT3BCQyxvQkFBVSxVQVBVLEVBT0M7QUFDckIvRSxtQkFBUyxpQkFBQ3FCLEdBQUQsRUFBUztBQUNkO0FBQ0FGLGlCQUFLNUIsWUFBTCxHQUFvQjhCLElBQUk5QixZQUF4QjtBQUNBNEIsaUJBQUtJLE1BQUw7QUFDQTFCLGVBQUdtRixTQUFIO0FBQ0gsV0FibUI7QUFjcEJyRSxnQkFBTSxjQUFDQyxHQUFELEVBQVM7QUFDYkMsb0JBQVFDLEdBQVIsQ0FBWUYsR0FBWjtBQUNEO0FBaEJtQixTQUF4QjtBQWtCRCxPQXBCRDtBQXFCRDs7OztFQXJWK0JxRSxlQUFLQyxJOztrQkFBbEJsRyxJIiwiZmlsZSI6InNhbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB3ZXB5IGZyb20gJ3dlcHknXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNhbGUgZXh0ZW5kcyB3ZXB5LnBhZ2Uge1xuICBjb25maWcgPSB7XG4gICAgbmF2aWdhdGlvbkJhclRpdGxlVGV4dDogJ+WHreivgSdcbiAgfVxuXG4gIGRhdGEgPSB7XG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIHJlc3VsdDoge30sXG4gICAgdGVtcEZpbGVQYXRoOiAnJyxcbiAgICBpbWFnZUhlaWdodDogMCxcbiAgfVxuXG4gIGNvbXB1dGVkID0ge31cblxuICBtZXRob2RzID0ge1xuICAgIGhhbmxkZVNhdmVQaWMgKCkge1xuICAgICAgbGV0IF9zZWxmID0gdGhpc1xuICAgICAgICAgIHd4LmdldEltYWdlSW5mbyh7XG4gICAgICAgICAgICBzcmM6IF9zZWxmLnRlbXBGaWxlUGF0aCxcbiAgICAgICAgICAgIHN1Y2Nlc3MgKHJlczEpIHtcbiAgICAgICAgICAgICAgd3guc2F2ZUltYWdlVG9QaG90b3NBbGJ1bSh7XG4gICAgICAgICAgICAgICAgICBmaWxlUGF0aDogcmVzMS5wYXRoLFxuICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlczIpIHtcbiAgICAgICAgICAgICAgICAgICAgd3guc2hvd1RvYXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S/neWtmOaIkOWKnycsXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHd4LnJlZGlyZWN0VG8oe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnLi4vaG9tZS9ob21lJ1xuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0sIDE1MDApXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICB9KVxuICAgIH0sXG4gICAgaGFuZGxlQ2FuY2VsICgpIHtcbiAgICAgIHd4LnJlZGlyZWN0VG8oe1xuICAgICAgICB1cmw6ICcuLi9ob21lL2hvbWUnXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gICBvbkxvYWQob3B0aW9ucykge1xuICAgICB3eC5zaG93VG9hc3Qoe1xuICAgICAgIHRpdGxlOiAn5q2j5Zyo55Sf5oiQ5Yet6K+BJyxcbiAgICAgICBpY29uOiAnbG9hZGluZycsXG4gICAgICAgZHVyYXRpb246IDEwMDAwXG4gICAgIH0pXG4gICAgLy8gdGhpcy5yZXN1bHQgPSBKU09OLnBhcnNlKG9wdGlvbnMucmVzdWx0KVxuICAgIHRoaXMucmVzdWx0ID0ge1xuICAgICBcInN1bW1hcnlcIjogXCLov5nmmK/kuJrliqHmj4/ov7BcIixcbiAgICAgXCJwcmVwYXJlZEJ5XCI6IFwiY1wiLFxuICAgICBcImNsaWVudFwiOiBcIuS4qlwiLFxuICAgICBcInN1cHBsaWVyXCI6IFwi5bm/5Lic6IuP5a6B5LqR5ZWG56O35ZSu5pyJ6ZmQ5YWs5Y+4XCIsXG4gICAgIFwicHJvamVjdFwiOiBcIui/meaYr+S4muWKoeaJgOWxnumhueebrlwiLFxuICAgICBcImVtcGxveWVlTmFtZVwiOiBcInhpdeWwj+aYjlwiLFxuICAgICBcInRoaXJkUGFydHlOYW1lXCI6IFwiXCIsXG4gICAgIFwiaW52b2ljZVwiOiB7XG4gICAgICAgXCJwdXJjaGFzZXJOYW1lXCI6IFwi6Iiq5aSp5L+h5oGv5Lu95pyJ6ZmQ5YWs5Y+4XCIsXG4gICAgICAgXCJzZWxsZXJOYW1lXCI6IFwi6Iiq5aSp5L+h5oGv6IKh5Lu95pyJ6ZmQ5YWs5Y+4XCIsXG4gICAgICAgXCJpbnZvaWNlVHlwZVwiOiAwLFxuICAgICAgIFwiaW52b2ljZU51bVwiOiBcIjAwNTkzODAzXCIsXG4gICAgICAgXCJpbnZvaWNlRGF0ZVwiOiBcIjIwMTQtMTItMzFUMTY6MDA6MDAuMDAwWlwiLFxuICAgICAgIFwiYW1vdW50SW5GaWd1ZXJzXCI6IFwiNS4xNVwiLFxuICAgICAgIFwic2VydmljZURldGFpbFwiOiBbXG4gICAgICAgICB7XG4gICAgICAgICAgIFwiY29tbW9kaXR5TmFtZVwiOiBcIui0p+eJqeWPr+S5kFwiLFxuICAgICAgICAgICBcImNvbW1vZGl0eUFtb3VudFwiOiBcIjEyMzQ1Ljg5XCIsXG4gICAgICAgICAgIFwiY29tbW9kaXR5VGF4XCI6IFwiMC4wM1wiXG4gICAgICAgICB9LCB7XG4gICAgICAgICAgIFwiY29tbW9kaXR5TmFtZVwiOiBcIui0p+eJqeWPr+S5kFwiLFxuICAgICAgICAgICBcImNvbW1vZGl0eUFtb3VudFwiOiBcIjEyMzQ1LjgwXCIsXG4gICAgICAgICAgIFwiY29tbW9kaXR5VGF4XCI6IFwiMC4wMFwiXG4gICAgICAgICB9LCB7XG4gICAgICAgICAgIFwiY29tbW9kaXR5TmFtZVwiOiBcIui0p+eJqeWPr+S5kFwiLFxuICAgICAgICAgICBcImNvbW1vZGl0eUFtb3VudFwiOiBcIjEyMzQ1Ljg5XCIsXG4gICAgICAgICAgIFwiY29tbW9kaXR5VGF4XCI6IFwiMC4wM1wiXG4gICAgICAgICB9LCB7XG4gICAgICAgICAgIFwiY29tbW9kaXR5TmFtZVwiOiBcIui0p+eJqeWPr+S5kFwiLFxuICAgICAgICAgICBcImNvbW1vZGl0eUFtb3VudFwiOiBcIjEyMzQ1LjgwXCIsXG4gICAgICAgICAgIFwiY29tbW9kaXR5VGF4XCI6IFwiMC4wM1wiXG4gICAgICAgICB9LCB7XG4gICAgICAgICAgIFwiY29tbW9kaXR5TmFtZVwiOiBcIui0p+eJqeWPr+S5kFwiLFxuICAgICAgICAgICBcImNvbW1vZGl0eUFtb3VudFwiOiBcIjEyMzQ1Ljg5XCIsXG4gICAgICAgICAgIFwiY29tbW9kaXR5VGF4XCI6IFwiMC4wM1wiXG4gICAgICAgICB9XG4gICAgICAgXSxcbiAgICAgICBcImRpc2NyaXB0aW9uXCI6IFwi6L+Z5piv5Lia5Yqh5o+P6L+wXCIsXG4gICAgICAgXCJwcm9qZWN0XCI6IFwi6L+Z5piv5Lia5Yqh5omA5bGe6aG555uuXCIsXG4gICAgICAgXCJpZGVudGl0eVwiOiAxLFxuICAgICAgIFwid2hvUGF5c1wiOiAxLFxuICAgICAgIFwiZW1wbG95ZWVOYW1lXCI6IFwieGl15bCP5piOXCIsXG4gICAgICAgXCJ0aGlyZFBhcnR5TmFtZVwiOiBcIlwiLFxuICAgICAgIFwicmVhc29uXCI6IDEsXG4gICAgICAgXCJpZFwiOiA1MyxcbiAgICAgICBcImNyZWF0ZWRBdFwiOiBcIjIwMTgtMTEtMjJUMDM6Mjc6MjQuNjQwWlwiLFxuICAgICAgIFwidXBkYXRlZEF0XCI6IFwiMjAxOC0xMS0yMlQwMzoyNzoyNC42NDBaXCJcbiAgICAgfSxcbiAgICAgXCJzdWJqZWN0c1wiOiBbXG4gICAgICAge1xuICAgICAgICAgXCJzdWJqZWN0TmFtZVwiOiBcIuW6lOaUtui0puasvlwiLFxuICAgICAgICAgXCJzdWJqZWN0Q29kZVwiOiBcIjExMjJcIixcbiAgICAgICAgIFwiYW1vdW50XCI6IFwiNS4xNVwiXG4gICAgICAgfSwge1xuICAgICAgICAgXCJzdWJqZWN0TmFtZVwiOiBcIuS4u+iQpeS4muWKoeaUtuWFpVwiLFxuICAgICAgICAgXCJzdWJqZWN0Q29kZVwiOiBcIjUwMDFcIixcbiAgICAgICAgIFwiYW1vdW50XCI6IFwiMTIzNDUuODlcIlxuICAgICAgIH0sIHtcbiAgICAgICAgIFwic3ViamVjdE5hbWVcIjogXCLlupTkuqTnqI7otLkgLSDlop7lgLznqI4gLSDplIDpobnnqI5cIixcbiAgICAgICAgIFwic3ViamVjdENvZGVcIjogXCI1MDAxXCIsXG4gICAgICAgICBcImFtb3VudFwiOiBcIjAuMDNcIlxuICAgICAgIH0sIHtcbiAgICAgICAgIFwic3ViamVjdE5hbWVcIjogXCLkuLvokKXkuJrliqHmlLblhaVcIixcbiAgICAgICAgIFwic3ViamVjdENvZGVcIjogXCI1MDAxXCIsXG4gICAgICAgICBcImFtb3VudFwiOiBcIjEyMzQ1LjgwXCJcbiAgICAgICB9LCB7XG4gICAgICAgICBcInN1YmplY3ROYW1lXCI6IFwi5bqU5Lqk56iO6LS5IC0g5aKe5YC856iOIC0g6ZSA6aG556iOXCIsXG4gICAgICAgICBcInN1YmplY3RDb2RlXCI6IFwiNTAwMVwiLFxuICAgICAgICAgXCJhbW91bnRcIjogXCIwLjAwXCJcbiAgICAgICB9XG4gICAgIF0sXG4gICAgIFwiYWNjb3VudGluZ1N1cGVydmlzb3JcIjogbnVsbCxcbiAgICAgXCJib29ra2VlcGVyXCI6IG51bGwsXG4gICAgIFwiY2FzaGllclwiOiBudWxsLFxuICAgICBcImF1ZGl0b3JcIjogbnVsbCxcbiAgICAgXCJpZFwiOiA3LFxuICAgICBcInZvdWNoZXJEYXRlXCI6IFwiMjAxOC0xMS0yMlQwMzoxNDoyOC42NjZaXCIsXG4gICAgIFwiY3JlYXRlZEF0XCI6IFwiMjAxOC0xMS0yMlQwMzoxNDoyOC42NjZaXCIsXG4gICAgIFwidXBkYXRlZEF0XCI6IFwiMjAxOC0xMS0yMlQwMzoxNDoyOC42NjZaXCJcbiAgIH1cblxuICAgIGxldCB0aGF0ID0gdGhpc1xuXG4gICAgLy8g6I635Y+W5bGP5bmV5a69XG4gICAgd3guZ2V0U3lzdGVtSW5mbyh7XG4gICAgICBzdWNjZXNzKHJlcykge1xuICAgICAgICB0aGF0LndpZHRoID0gcmVzLndpbmRvd1dpZHRoXG4gICAgICAgIHRoYXQuJGFwcGx5KClcbiAgICAgICAgLy8gdGhhdC5oZWlnaHQgPSByZXMud2luZG93SGVpZ2h0XG4gICAgICB9XG4gICAgfSlcblxuLy8g5Ye95pWw5a6a5LmJ5Yy65Z+fID09PT09PT09PT09PT09PT09PT1cbiAgICAvLyDorr7nva7kuIDkuKrln7rlh4bmr5TkvotcbiAgICBsZXQgY2FsID0gKHB4KSA9PiB7XG4gICAgICByZXR1cm4gIHB4IC8gNzUwICogdGhhdC53aWR0aFxuICAgIH1cblxuICAgIC8vIGNhbnZhc+aNouihjOaYvuekulxuICAgIGxldCBsaW5lV3JhcCA9IChjdHgsIHN0ciwgZm9udHNpemUsIGxpbmVoZWlnaHQsIHdpZHRoLCB4LCB5KSA9PiB7XG4gICAgICBjdHguc2V0Rm9udFNpemUoZm9udHNpemUpXG4gICAgICBsZXQgdGV4dEFyciA9IFtdXG4gICAgICBsZXQgaW5kZXggPSAwXG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY3R4Lm1lYXN1cmVUZXh0KHN0ci5zdWJzdHJpbmcoaW5kZXgsIGkpKS53aWR0aCA+PSB3aWR0aCAqIDAuOCkge1xuICAgICAgICAgIHRleHRBcnIucHVzaChzdHIuc3Vic3RyaW5nKGluZGV4LCBpKSlcbiAgICAgICAgICBpbmRleCA9IGlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0ZXh0QXJyLnB1c2goc3RyLnN1YnN0cmluZyhpbmRleCkpXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dEFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjdHguZmlsbFRleHQodGV4dEFycltpXSwgeCwgeSArIGxpbmVoZWlnaHQgKiAoaSArIDEpKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGN0eCA9IHd4LmNyZWF0ZUNhbnZhc0NvbnRleHQoJ2NhbnZhc0lkJylcblxuICAgIGN0eC5zZXRGaWxsU3R5bGUoJ3doaXRlJylcbiAgICBjdHguZmlsbFJlY3QoY2FsKDApLCBjYWwoMCksIGNhbCg3NTApLCBjYWwoMTIwKSArICg3ICsgdGhpcy5yZXN1bHQuc3ViamVjdHMubGVuZ3RoKSAqIGNhbCgzNikpXG4gICAgY3R4LnNldEZpbGxTdHlsZSgnYmxhY2snKVxuXG4gICAgLy8g5qCH6aKYXG4gICAgY3R4LnNldEZvbnRTaXplKGNhbCgyMykpXG4gICAgY3R4LmZpbGxUZXh0KCforrDotKblh63or4EnLCBjYWwoMzc1KSwgY2FsKDQwKSlcblxuICAgIC8vIOaXtumXtOWPiue8luWPt1xuICAgIGxldCBkYXRlID0gbmV3IERhdGUoKVxuICAgIGxldCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpXG4gICAgbGV0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMVxuICAgIGxldCBkYXkgPSBkYXRlLmdldERhdGUoKVxuICAgIGN0eC50cmFuc2xhdGUoY2FsKDczMCksIGNhbCg3MCkpXG4gICAgY3R4LnNldEZvbnRTaXplKGNhbCgxMykpXG4gICAgY3R4LnNldFRleHRBbGlnbigncmlnaHQnKVxuICAgIGN0eC5maWxsVGV4dCh5ZWFyICsgJyDlubQgJyArIG1vbnRoICsgJyDmnIggJyArIGRheSArICcg5Y+3ICAgICAg6K6w5a2X56ysICcgKyB0aGlzLnJlc3VsdC5pZCArICcg5Y+3JywgY2FsKDApLCBjYWwoMjIpKVxuICAgIGN0eC5zZXRUZXh0QWxpZ24oJ2NlbnRlcicpXG4gICAgY3R4LnNldFRleHRBbGlnbignY2VudGVyJylcbiAgICBjdHguc2V0VGV4dEFsaWduKCdjZW50ZXInKVxuXG4gICAgLy8g6KGo5qC8XG4gICAgLy8g5aSW5qGGXG4gICAgbGV0IHJvdyA9IHRoaXMucmVzdWx0LnN1YmplY3RzLmxlbmd0aCArIDJcbiAgICBjdHgudHJhbnNsYXRlKGNhbCgtNzEwKSwgY2FsKDUwKSlcbiAgICBjdHguc2V0U3Ryb2tlU3R5bGUoJyMwMDAnKVxuICAgIGN0eC5zdHJva2VSZWN0KDAsIDAsIGNhbCg3MTApLCBjYWwoMzYpICogcm93KVxuXG4gICAgLy8g5YaF5qGGXG4gICAgZm9yIChsZXQgaSA9IDI7IGkgPCByb3cgLSAxOyBpKyspIHtcbiAgICAgIGN0eC5zZXRTdHJva2VTdHlsZSgnIzk5OScpXG4gICAgICBjdHgubW92ZVRvKGNhbCgyMDApLCBjYWwoMzYpICogaSlcbiAgICAgIGN0eC5saW5lVG8oY2FsKDcxMCksIGNhbCgzNikgKiBpKVxuICAgICAgY3R4LnN0cm9rZSgpXG4gICAgfVxuXG4gICAgY3R4Lm1vdmVUbygwLCBjYWwoMzYpKVxuICAgIGN0eC5saW5lVG8oY2FsKDcxMCksIGNhbCgzNikpXG5cbiAgICBjdHgubW92ZVRvKDAsIGNhbCgzNikgKiAocm93IC0xKSlcbiAgICBjdHgubGluZVRvKGNhbCg3MTApLCBjYWwoMzYpICogKHJvdyAtMSkpXG5cbiAgICBjdHgubW92ZVRvKDAsIGNhbCgzNikgKiByb3cpXG4gICAgY3R4LmxpbmVUbyhjYWwoNzEwKSwgY2FsKDM2KSAqIHJvdylcblxuICAgIGN0eC5tb3ZlVG8oY2FsKDIwMCksIDApXG4gICAgY3R4LmxpbmVUbyhjYWwoMjAwKSwgY2FsKDM2KSAqIChyb3cgLTEpKVxuXG4gICAgY3R4Lm1vdmVUbyhjYWwoMzMwKSwgY2FsKDE4KSlcbiAgICBjdHgubGluZVRvKGNhbCgzMzApLCBjYWwoMzYpICogKHJvdyAtIDEpKVxuXG4gICAgY3R4Lm1vdmVUbyhjYWwoMjAwKSwgY2FsKDE4KSlcbiAgICBjdHgubGluZVRvKGNhbCg0NjApLCBjYWwoMTgpKVxuXG4gICAgY3R4Lm1vdmVUbyhjYWwoNDYwKSwgMClcbiAgICBjdHgubGluZVRvKGNhbCg0NjApLCBjYWwoMzYpICogcm93KVxuXG4gICAgY3R4Lm1vdmVUbyhjYWwoNTg1KSwgMClcbiAgICBjdHgubGluZVRvKGNhbCg1ODUpLCBjYWwoMzYpICogcm93KVxuXG4gICAgY3R4LnN0cm9rZSgpXG5cbiAgICAvLyDooajlpLRcbiAgICBjdHguc2V0Rm9udFNpemUoY2FsKDE1KSlcbiAgICBjdHguc2V0VGV4dEFsaWduKCdjZW50ZXInKVxuICAgIGN0eC5maWxsVGV4dCgn5pGY6KaBJywgY2FsKDEwMCksIGNhbCgyNCkpXG4gICAgY3R4LmZpbGxUZXh0KCflgJ/mlrnph5Hpop0nLCBjYWwoNTIyKSwgY2FsKDI0KSlcbiAgICBjdHguZmlsbFRleHQoJ+i0t+aWuemHkeminScsIGNhbCg2NDYpLCBjYWwoMjQpKVxuXG4gICAgY3R4LnNldEZvbnRTaXplKGNhbCgxNCkpXG4gICAgY3R4LmZpbGxUZXh0KCfkvJrorqHnp5Hnm64nLCBjYWwoMzMwKSwgY2FsKDE1KSlcbiAgICBjdHguZmlsbFRleHQoJ+enkeebruS7o+eggScsIGNhbCgyNjUpLCBjYWwoMzMpKVxuICAgIGN0eC5maWxsVGV4dCgn56eR55uu5ZCN56ewJywgY2FsKDM5NSksIGNhbCgzMykpXG5cbiAgICAvLyDlhoXlrrnpg6jliIZcbiAgICAvLyDmkZjopoHlhoXlrrlcbiAgICBjdHgudHJhbnNsYXRlKDAsIGNhbCgzNikpXG4gICAgbGluZVdyYXAoY3R4LCB0aGlzLnJlc3VsdC5zdW1tYXJ5LCBjYWwoMTQpLCBjYWwoMTYpLCBjYWwoMTYwKSwgY2FsKDEwMCksIGNhbCgxMCkpXG5cbiAgICAvLyDnianlk4HjgIHmnI3liqHnrYlcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVzdWx0LnN1YmplY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjdHguZmlsbFRleHQodGhpcy5yZXN1bHQuc3ViamVjdHNbaV0uc3ViamVjdENvZGUsIGNhbCgyNjUpLCBjYWwoMjQpICsgY2FsKDM2KSAqIGkpXG4gICAgICBpZiAoY3R4Lm1lYXN1cmVUZXh0KHRoaXMucmVzdWx0LnN1YmplY3RzW2ldLnN1YmplY3ROYW1lKS53aWR0aCA+PSBjYWwoMTMwKSAqIDAuOCkge1xuICAgICAgICBsaW5lV3JhcChjdHgsIHRoaXMucmVzdWx0LnN1YmplY3RzW2ldLnN1YmplY3ROYW1lLCBjYWwoMTQpLCBjYWwoMTQpLCBjYWwoMTMwKSwgY2FsKDM5NSksIGNhbCgyKSArIGNhbCgzNikgKiBpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMucmVzdWx0LnN1YmplY3RzW2ldLnN1YmplY3ROYW1lLCBjYWwoMzk1KSwgY2FsKDI0KSArIGNhbCgzNikgKiBpKVxuICAgICAgfVxuICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMucmVzdWx0LnN1YmplY3RzW2ldLmFtb3VudCwgY2FsKDUyMiksIGNhbCgyNCkgKyBjYWwoMzYpICogaSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLnJlc3VsdC5zdWJqZWN0c1tpXS5hbW91bnQsIGNhbCg2NDYpLCBjYWwoMjQpICsgY2FsKDM2KSAqIGkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8g5ZCI6K6hXG4gICAgY3R4LnRyYW5zbGF0ZSgwLCBjYWwoMzYpICogKHRoaXMucmVzdWx0LnN1YmplY3RzLmxlbmd0aCkpXG4gICAgY3R4LmZpbGxUZXh0KCflkIjorqEnLCBjYWwoMjMwKSwgY2FsKDI0KSlcbiAgICBjdHguZmlsbFRleHQodGhpcy5yZXN1bHQuaW52b2ljZS5hbW91bnRJbkZpZ3VlcnMsIGNhbCg1MjIpLCBjYWwoMjQpKVxuICAgIGN0eC5maWxsVGV4dCh0aGlzLnJlc3VsdC5pbnZvaWNlLmFtb3VudEluRmlndWVycywgY2FsKDY0NiksIGNhbCgyNCkpXG5cbiAgICAvLyDkv6Hmga/moI9cbiAgICBjdHguYmVnaW5QYXRoKClcbiAgICAvLyDovrnmoYZcbiAgICBjdHgudHJhbnNsYXRlKDAsIGNhbCgzNikpXG4gICAgbGV0IGxlZnRUaXRsZSA9IFsn5Lya6K6h5oC7566hJywgJ+WuouaItycsICfkvpvlupTllYYnLCAn6aG555uuJ11cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA0OyBpKyspIHtcbiAgICAgIGN0eC5maWxsVGV4dChsZWZ0VGl0bGVbaSAtIDFdLCBjYWwoNTApLCBjYWwoMjQpICsgKGkgLSAxKSAqIGNhbCgzNikpXG4gICAgICBjdHgubW92ZVRvKDAsIGNhbCgzNikgKiBpKVxuICAgICAgY3R4LmxpbmVUbyhjYWwoNzEwKSwgY2FsKDM2KSAqIGkpXG4gICAgfVxuXG4gICAgY3R4Lm1vdmVUbyhjYWwoMzU1KSwgY2FsKDM2KSlcbiAgICBjdHgubGluZVRvKGNhbCgzNTUpLCBjYWwoMzYpICogNClcbiAgICBjdHguZmlsbFRleHQoJ+WRmOW3pScsIGNhbCg0MDUpLCBjYWwoMzYpICsgY2FsKDI0KSlcblxuICAgIGN0eC5tb3ZlVG8oY2FsKDQ1NSksIGNhbCgzNikpXG4gICAgY3R4LmxpbmVUbyhjYWwoNDU1KSwgY2FsKDM2KSAqIDQpXG4gICAgY3R4LmZpbGxUZXh0KCflhbbku5bnrKzkuInmlrknLCBjYWwoNDA1KSwgY2FsKDM2KSAqIDIgKyBjYWwoMjQpKVxuXG4gICAgY3R4Lm1vdmVUbyhjYWwoNzEwKSwgMClcbiAgICBjdHgubGluZVRvKGNhbCg3MTApLCBjYWwoMzYpICogNClcbiAgICBjdHguZmlsbFRleHQoJ+WPkeelqOWPt+eggScsIGNhbCg0MDUpLCBjYWwoMzYpICogMyArIGNhbCgyNCkpXG5cbiAgICBjdHgubW92ZVRvKDAsIDApXG4gICAgY3R4LmxpbmVUbygwLCBjYWwoMzYpICogNClcblxuICAgIGN0eC5tb3ZlVG8oY2FsKDEwMCksIDApXG4gICAgY3R4LmxpbmVUbyhjYWwoMTAwKSwgY2FsKDM2KSAqIDQpXG5cbiAgICBjdHgubW92ZVRvKGNhbCgxOTApLCAwKVxuICAgIGN0eC5saW5lVG8oY2FsKDE5MCksIGNhbCgzNikpXG4gICAgbGV0IHRpdGxlID0gWyforrDotKYnLCAn5Ye657qzJywgJ+WuoeaguCcsICfliLbljZUnXVxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDQ7IGkrKykge1xuICAgICAgY3R4LmZpbGxUZXh0KHRpdGxlW2kgLSAxXSwgY2FsKDE5MCArIDEzMCAqIChpIC0gMSkgKyAyNSksIGNhbCgyNCkgKVxuICAgICAgY3R4Lm1vdmVUbyhjYWwoMTkwICsgMTMwICogKGkgLSAxKSArIDUwKSwgMClcbiAgICAgIGN0eC5saW5lVG8oY2FsKDE5MCArIDEzMCAqIChpIC0gMSkgKyA1MCksIGNhbCgzNikpXG4gICAgICBjdHgubW92ZVRvKGNhbCgxOTAgKyAxMzAgKiAoaSAtIDEpICsgMTMwKSwgMClcbiAgICAgIGN0eC5saW5lVG8oY2FsKDE5MCArIDEzMCAqIChpIC0gMSkgKyAxMzApLCBjYWwoMzYpKVxuICAgIH1cbiAgICBjdHguc3Ryb2tlKClcblxuICAgIGN0eC5maWxsVGV4dCh0aGlzLnJlc3VsdC5wcmVwYXJlZEJ5LCBjYWwoMTkwICsgMTMwICogMyArIDkwKSwgY2FsKDI0KSlcbiAgICBjdHguZmlsbFRleHQodGhpcy5yZXN1bHQuaW52b2ljZS5pbnZvaWNlTnVtLCBjYWwoNTgyKSwgY2FsKDI0KSArIGNhbCgzNikgKiAzKVxuICAgIHRoaXMucmVzdWx0LnByb2plY3QgJiYgY3R4LmZpbGxUZXh0KHRoaXMucmVzdWx0LnByb2plY3QsIGNhbCgyMjgpLCBjYWwoMjQpICsgY2FsKDM2KSAqIDMpXG4gICAgY3R4LmZpbGxUZXh0KHRoaXMucmVzdWx0LmNsaWVudCwgY2FsKDIyOCksIGNhbCgyNCkgKyBjYWwoMzYpKVxuXG4gICAgY3R4LmRyYXcodHJ1ZSwgKCkgPT4ge1xuICAgICAgdGhhdC5pbWFnZUhlaWdodCA9IGNhbCgxMjApICsgKDcgKyB0aGlzLnJlc3VsdC5zdWJqZWN0cy5sZW5ndGgpICogY2FsKDM2KVxuICAgICAgd3guY2FudmFzVG9UZW1wRmlsZVBhdGgoe1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMCxcbiAgICAgICAgICB3aWR0aDogY2FsKDc1MCksXG4gICAgICAgICAgaGVpZ2h0OiBjYWwoMTIwKSArICg3ICsgdGhpcy5yZXN1bHQuc3ViamVjdHMubGVuZ3RoKSAqIGNhbCgzNiksXG4gICAgICAgICAgZmlsZVR5cGU6ICdqcGcnLFxuICAgICAgICAgIHF1YWxpdHk6IDAuNSxcbiAgICAgICAgICBjYW52YXNJZDogJ2NhbnZhc0lkJywvL2NhbnZhc0lk5ZKM5qCH562+6YeM6Z2i55qEaWTlr7nlupRcbiAgICAgICAgICBzdWNjZXNzOiAocmVzKSA9PiB7XG4gICAgICAgICAgICAgIC8v5bCG6I635Y+W5Yiw55qE5Zu+54mH5Li05pe26Lev5b6Ec2V05YiwY2FudmFzU2F2ZWltZ+S4rVxuICAgICAgICAgICAgICB0aGF0LnRlbXBGaWxlUGF0aCA9IHJlcy50ZW1wRmlsZVBhdGhcbiAgICAgICAgICAgICAgdGhhdC4kYXBwbHkoKVxuICAgICAgICAgICAgICB3eC5oaWRlVG9hc3QoKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZmFpbDogKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbiJdfQ==